const _0x40bddf=_0x1d5b;function _0x1d5b(_0x26e627,_0x50d9c7){const _0x153bb1=_0x153b();return _0x1d5b=function(_0x1d5ba5,_0x525e57){_0x1d5ba5=_0x1d5ba5-0x1b3;let _0x366a72=_0x153bb1[_0x1d5ba5];return _0x366a72;},_0x1d5b(_0x26e627,_0x50d9c7);}(function(_0x467742,_0x21f0ed){const _0x23d32f=_0x1d5b,_0x20993d=_0x467742();while(!![]){try{const _0x2036c4=-parseInt(_0x23d32f(0x1b8))/0x1+-parseInt(_0x23d32f(0x1c1))/0x2*(-parseInt(_0x23d32f(0x1ba))/0x3)+parseInt(_0x23d32f(0x1cf))/0x4+-parseInt(_0x23d32f(0x1c5))/0x5*(parseInt(_0x23d32f(0x1ce))/0x6)+-parseInt(_0x23d32f(0x1c3))/0x7+-parseInt(_0x23d32f(0x1b7))/0x8*(-parseInt(_0x23d32f(0x1cc))/0x9)+parseInt(_0x23d32f(0x1c2))/0xa*(parseInt(_0x23d32f(0x1be))/0xb);if(_0x2036c4===_0x21f0ed)break;else _0x20993d['push'](_0x20993d['shift']());}catch(_0x1a16d7){_0x20993d['push'](_0x20993d['shift']());}}}(_0x153b,0x70be4));const fs=require('fs'),axios=require(_0x40bddf(0x1c4)),mqtt=require('mqtt'),serverUrl='https://be.rivalz.ai',mqttBrokerUrl='mqtt://158.247.249.51:1883';function readDeviceIds(_0x2fc928){return new Promise((_0x30366e,_0x3628c7)=>{const _0x2fc34a=_0x1d5b;fs[_0x2fc34a(0x1ca)](_0x2fc928,'utf8',(_0x355171,_0x2f2b84)=>{const _0x1b7ec2=_0x2fc34a;if(_0x355171)return _0x3628c7(_0x355171);const _0xe1803b=_0x2f2b84['split']('\x0a')['map'](_0x552646=>_0x552646[_0x1b7ec2(0x1cb)]())['filter'](_0x1188b9=>_0x1188b9[_0x1b7ec2(0x1c6)]>0x0);_0x30366e(_0xe1803b);});});}async function startClients(){const _0x332e19=_0x40bddf;try{const _0x59712a=await readDeviceIds(_0x332e19(0x1bf));_0x59712a[_0x332e19(0x1c7)](_0x4a8a50=>{const _0x737001=_0x332e19,_0x49f73d=mqtt['connect'](mqttBrokerUrl,{'clientId':_0x4a8a50,'clean':!![],'connectTimeout':0xfa0,'reconnectPeriod':0x3e8});_0x49f73d['on'](_0x737001(0x1bc),()=>{const _0x5e556b=_0x737001;console[_0x5e556b(0x1b4)](_0x5e556b(0x1d0)+_0x4a8a50+_0x5e556b(0x1c9)),reportStatus(_0x4a8a50);}),_0x49f73d['on'](_0x737001(0x1cd),_0x53e67c=>{const _0x505f77=_0x737001;console[_0x505f77(0x1cd)](_0x505f77(0x1d0)+_0x4a8a50+_0x505f77(0x1c8),_0x53e67c);}),_0x49f73d['on'](_0x737001(0x1bb),()=>{const _0x5bee2a=_0x737001;console['log'](_0x5bee2a(0x1d0)+_0x4a8a50+'\x20disconnected\x20from\x20MQTT\x20broker');});});}catch(_0x4aa3c4){console[_0x332e19(0x1cd)](_0x332e19(0x1c0),_0x4aa3c4);}}async function reportStatus(_0x132df9){const _0x34ba7e=_0x40bddf;try{const _0x3cb7ba=await axios['get'](serverUrl+_0x34ba7e(0x1b5)+_0x132df9);console['log'](_0x34ba7e(0x1d0)+_0x132df9+_0x34ba7e(0x1b9),_0x3cb7ba['data']),_0x3cb7ba['data'][_0x34ba7e(0x1b3)]===0xc8?console[_0x34ba7e(0x1b4)](_0x34ba7e(0x1d0)+_0x132df9+_0x34ba7e(0x1b6)):console['log'](_0x34ba7e(0x1d0)+_0x132df9+_0x34ba7e(0x1bd));}catch(_0x228845){console[_0x34ba7e(0x1cd)](_0x34ba7e(0x1d0)+_0x132df9+'\x20error\x20reporting\x20status:',_0x228845);}}startClients(),setInterval(async()=>{const _0x4a6c9b=_0x40bddf;try{const _0x3fdf3f=await readDeviceIds(_0x4a6c9b(0x1bf));_0x3fdf3f[_0x4a6c9b(0x1c7)](_0x4ff2ad=>reportStatus(_0x4ff2ad));}catch(_0x142542){console['error']('Error\x20reading\x20device\x20IDs\x20for\x20interval\x20report:',_0x142542);}},0x5*0x3c*0x3e8);function _0x153b(){const _0x199d8e=['length','forEach','\x20connection\x20error:','\x20connected\x20to\x20MQTT\x20broker','readFile','trim','38871oGrQpf','error','183102yhjLfu','266840IGSUOr','Client\x20','status','log','/api-v2/ipfs-v2/check-connectivity/','\x20reported\x20status\x20successfully','240AAqXAa','858869glNhJH','\x20status:','1212XQAJeH','close','connect','\x20failed\x20to\x20report\x20status','14636017wecZKE','device_ids.txt','Error\x20reading\x20device\x20IDs:','3358dwGfUN','10jgiFmL','3414299yelPGb','axios','65aswMnZ'];_0x153b=function(){return _0x199d8e;};return _0x153b();}
